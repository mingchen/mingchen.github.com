---
layout: post
tags: [http, cookie, django]
title: 服务器时间不正确导致django的认证失败
---

平时跑的好好的django系统，突然发现IE登录后可以访问第一个页面，
而再继续访问其它页面的时候就出现认证失败，而Firefox是没有问题的。
django的认证是借助cookie来实现的。
经过对IE的抓包分析发现在后续的请求没有携带Cookie，
而在仔细看之前的http请求和响应，发现登录时服务器返回的Set-Cookie的超时时间是去年的时间，这就导致了IE认为这个Cookie已经过期，在后续的请求中就没有把这个Cookie带上，导致了认证的失败。再到服务器上看，服务器的时间居然被人改成去年的时间了。

解决方法很简单了，就是把服务器的时间修改正确。

